<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>测试页面</title>

    <link rel="stylesheet" type="text/css" href="/user/easyui/themes/default/easyui.css">
    <link rel="stylesheet" type="text/css" href="/user/easyui/themes/icon.css">
    <link rel="stylesheet" type="text/css" href="/user/easyui/demo/demo.css">
    <script type="text/javascript" src="/user/easyui/jquery.min.js"></script>
    <script type="text/javascript" src="/user/easyui/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="/user/easyui/locale/easyui-lang-zh_CN.js"></script>
    <script type="text/javascript" src="/user/easyui/jquery.edatagrid.js"></script>

</head>
<body>
    <table id="dg" title="My Users"
           toolbar="#toolbar" idField="id"
           rownumbers="true" fitColumns="true" singleSelect="true" resizeHandle="right">
        <thead>
        <tr>
            <th field="id" width="50" editor="{type:'validatebox'}">ID</th>
            <th field="name" width="50" editor="{type:'validatebox',options:{required:true}}">Name</th>
            <th field="pwd" width="50" editor="{type:'validatebox',options:{required:true}}">密码</th>
            <th field="email" width="50" editor="{type:'validatebox',options:{required:true,validType:'email'}}">邮箱</th>
            <th field="age" width="50" editor="{type:'validatebox',options:{required:true}}" >年龄</th>
            <th field="pwd" width="50" editor="{type:'validatebox',options:{required:true}}">性别</th>
            <th field="birthday" width="50" editor="{type:'validatebox',options:{required:true}}">生日</th>

        </tr>
        </thead>
    </table>
    <div id="toolbar">
        <a href="#" class="easyui-linkbutton" iconCls="icon-add" plain="true" onclick="javascript:$('#dg').edatagrid('addRow')">New</a>
        <a href="#" class="easyui-linkbutton" iconCls="icon-remove" plain="true" onclick="javascript:$('#dg').edatagrid('destroyRow')">Destroy</a>
        <a href="#" class="easyui-linkbutton" iconCls="icon-save" plain="true" onclick="javascript:$('#dg').edatagrid('saveRow').datagrid('reload')">Save</a>
        <a href="#" class="easyui-linkbutton" iconCls="icon-undo" plain="true" onclick="javascript:$('#dg').edatagrid('cancelRow')">Cancel</a>
    </div>
</body>
</html>

<script type="text/javascript">
    $('#dg').edatagrid({
        url: '/user/getUserList',
        saveUrl: '/user/change',
        updateUrl: '/user/change',
        destroyUrl: '/user/delete'
    });


    /*
 *  列表的自适应代码
 */

    $(function(){　　//初始加载，表格宽度自适应
        $(document).ready(function(){
            fitCoulms();
        });　　//浏览器窗口大小变化后，表格宽度自适应
        $(window).resize(function(){
            fitCoulms();
        });
    });
    //表格宽度自适应，这里的#dg是datagrid表格生成的div标签
    function fitCoulms(){
        $('#dg').datagrid({
            fitColumns:true
        });
    }
</script>